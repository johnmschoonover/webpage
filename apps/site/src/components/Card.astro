---
interface Props {
  eyebrow: string;
  title: string;
  description: string;
  href: string;
  cta?: string;
  download?: boolean | string;
}

const { eyebrow, title, description, href, cta, download } = Astro.props as Props;
const downloadAttr = (() => {
  if (typeof download === 'string') {
    return download;
  }

  if (!download) {
    return undefined;
  }

  const fileName = href.split('/').pop()?.split('?')[0];
  return fileName ?? '';
})();
---
<a
  href={href}
  download={downloadAttr}
  class="group block rounded-2xl border border-border bg-background/90 p-6 shadow-sm transition hover:-translate-y-1 hover:bg-background"
>
  <div class="flex flex-col gap-4">
    <span class="text-xs font-semibold uppercase tracking-[0.2em] text-primary/80">{eyebrow}</span>
    <h3 class="font-display text-xl font-semibold text-foreground group-hover:text-primary">{title}</h3>
    <p class="text-sm leading-6 text-muted-foreground">{description}</p>
    <span class="text-sm font-semibold text-primary">{cta ?? 'Read more'} â†’</span>
  </div>
</a>
