---
import BaseLayout from '@layouts/BaseLayout.astro';
import patents from '@content/data/patents.json';

type Patent = {
  title: string;
  status: string;
  summary: string;
  highlights?: string[];
};

const entries = (patents as Patent[]).map((entry) => ({
  ...entry,
  highlights: entry.highlights ?? []
}));
---
<BaseLayout
  pageHeading="Patents & IP"
  description="Patents that harden SIEM visibility, coverage analysis, and resilient detections."
>
  <div class="space-y-6">
    {entries.map((patent) => (
      <article class="rounded-3xl border border-border bg-background/80 p-6" key={patent.title}>
        <span class="text-xs uppercase tracking-[0.2em] text-muted-foreground">{patent.status}</span>
        <h2 class="mt-2 font-display text-xl font-semibold">{patent.title}</h2>
        <p class="mt-3 text-sm text-muted-foreground">{patent.summary}</p>
        {patent.highlights.length > 0 && (
          <ul class="mt-4 space-y-2 text-sm text-muted-foreground">
            {patent.highlights.map((highlight) => (
              <li key={`${patent.title}-${highlight}`} class="flex items-start gap-2">
                <span aria-hidden class="mt-1 inline-block h-1.5 w-1.5 rounded-full bg-primary"></span>
                <span>{highlight}</span>
              </li>
            ))}
          </ul>
        )}
      </article>
    ))}
  </div>
</BaseLayout>
